# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ç–µ–≤–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è

## –ü—Ä–æ–±–ª–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã:

### 1. ‚úÖ CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —É–ª—É—á—à–µ–Ω—ã
**–§–∞–π–ª:** `backend/app.js`
- –î–æ–±–∞–≤–ª–µ–Ω—ã —è–≤–Ω—ã–µ origins –¥–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö –¥–æ–º–µ–Ω–æ–≤
- –î–æ–±–∞–≤–ª–µ–Ω `credentials: true` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å cookies/tokens
- –£–∫–∞–∑–∞–Ω—ã —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã –∏ –∑–∞–≥–æ–ª–æ–≤–∫–∏

### 2. ‚úÖ Backend —Å–ª—É—à–∞–µ—Ç –Ω–∞ 0.0.0.0
**–§–∞–π–ª:** `backend/app.js`
- –ò–∑–º–µ–Ω–µ–Ω–æ —Å `app.listen(PORT)` –Ω–∞ `app.listen(PORT, '0.0.0.0')`
- –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –Ω–µ —Ç–æ–ª—å–∫–æ —Å localhost, –Ω–æ –∏ –∏–∑ —Å–µ—Ç–∏ Docker

### 3. ‚úÖ Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞
**–§–∞–π–ª—ã:** `docker-compose.yml`, `Dockerfile`
- –î–æ–±–∞–≤–ª–µ–Ω ARG –¥–ª—è VITE_API_URL –≤ Dockerfile
- –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

## –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

### 1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:
```bash
docker compose down
docker compose up --build
```

### 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:
```bash
# Backend –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å:
# ‚úÖ API running on http://0.0.0.0:5000
# ‚úÖ API accessible at http://localhost:5000

docker compose logs backend
```

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:5173
2. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12) ‚Üí Network
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–ø—Ä–æ—Å –∫ `/api/auth/register`:
   - URL –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å: `http://localhost:5000/api/auth/register`
   - –°—Ç–∞—Ç—É—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å: `200` –∏–ª–∏ `201` (–Ω–µ CORS error)
   - –í Response Headers –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å: `Access-Control-Allow-Origin: http://localhost:5173`

### 4. –ï—Å–ª–∏ –≤—Å–µ –µ—â–µ –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã:

**–ü—Ä–æ–±–ª–µ–º–∞: CORS error –≤ –±—Ä–∞—É–∑–µ—Ä–µ**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ backend –∑–∞–ø—É—â–µ–Ω: `docker compose ps`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ backend: `docker compose logs backend | grep CORS`
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –∑–∞–ø—Ä–æ—Å –∏–¥–µ—Ç –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—Ç (5000)

**–ü—Ä–æ–±–ª–µ–º–∞: Connection refused**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –ø–æ—Ä—Ç 5000 –ø—Ä–æ–±—Ä–æ—à–µ–Ω: `docker compose ps`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ backend —Å–ª—É—à–∞–µ—Ç –Ω–∞ 0.0.0.0: `docker compose logs backend`

**–ü—Ä–æ–±–ª–µ–º–∞: 404 Not Found**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Ä–æ—É—Ç —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ `backend/app.js`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –∑–∞–ø—Ä–æ—Å –∏–¥–µ—Ç –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—É—Ç—å: `/api/auth/register`

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

### –¢–µ—Å—Ç 1: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
```bash
curl -X POST http://localhost:5000/api/auth/register \
  -H "Content-Type: application/json" \
  -d '{"email":"test@test.com","password":"123456"}'
```

–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:
```json
{
  "user": {
    "id": "...",
    "email": "test@test.com",
    "role": "member"
  },
  "token": "..."
}
```

### –¢–µ—Å—Ç 2: CORS –∑–∞–≥–æ–ª–æ–≤–∫–∏
```bash
curl -X OPTIONS http://localhost:5000/api/auth/register \
  -H "Origin: http://localhost:5173" \
  -H "Access-Control-Request-Method: POST" \
  -v
```

–î–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–≥–æ–ª–æ–≤–∫–∏:
- `Access-Control-Allow-Origin: http://localhost:5173`
- `Access-Control-Allow-Methods: GET, POST, PUT, DELETE, OPTIONS`
- `Access-Control-Allow-Headers: Content-Type, Authorization`

## –ò—Ç–æ–≥–æ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:

1. **backend/app.js**:
   - –£–ª—É—á—à–µ–Ω—ã CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
   - Backend —Å–ª—É—à–∞–µ—Ç –Ω–∞ 0.0.0.0:5000

2. **docker-compose.yml**:
   - –î–æ–±–∞–≤–ª–µ–Ω build arg –¥–ª—è VITE_API_URL
   - –£–ø—Ä–æ—â–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è web —Å–µ—Ä–≤–∏—Å–∞

3. **Dockerfile**:
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ ARG –¥–ª—è VITE_API_URL
   - –ò–∑–º–µ–Ω–µ–Ω CMD –¥–ª—è dev —Ä–µ–∂–∏–º–∞

–í—Å–µ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Ç–µ–ø–µ—Ä—å! üéâ

